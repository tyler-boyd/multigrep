2020-08-29 03:49:21.489 ERROR 117 --- [txId=] [pleMessageListenerContainer-38] o.s.c.a.m.listener.QueueMessageHandler   : Unhandled exception from message handler method

org.springframework.orm.hibernate5.HibernateOptimisticLockingFailureException: Object of class [com.nthgen.iaas.domain.AggregateTrade] with identifier [9]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.nthgen.iaas.domain.AggregateTrade#9]
	at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:284)
	at org.grails.orm.hibernate.GrailsHibernateTemplate.doExecute(GrailsHibernateTemplate.java:305)
	at org.grails.orm.hibernate.GrailsHibernateTemplate.execute(GrailsHibernateTemplate.java:241)
	at org.grails.orm.hibernate.GrailsHibernateTemplate.execute(GrailsHibernateTemplate.java:120)
	at org.grails.orm.hibernate.AbstractHibernateGormInstanceApi.performSave(AbstractHibernateGormInstanceApi.groovy:247)
	at org.grails.orm.hibernate.AbstractHibernateGormInstanceApi.save(AbstractHibernateGormInstanceApi.groovy:164)
	at org.grails.datastore.gorm.GormEntity$Trait$Helper.save(GormEntity.groovy:153)
	at org.grails.datastore.gorm.GormEntity$Trait$Helper$save$6.call(Unknown Source)
	at com.nthgen.iaas.domain.AggregateTrade.save(AggregateTrade.groovy)
	at com.nthgen.iaas.domain.AggregateTrade.save(AggregateTrade.groovy)
	at org.grails.datastore.gorm.GormEntity$save.call(Unknown Source)
	at com.nthgen.iaas.service.entityListenerServices.AggregateTradeService$_updateTradeInformation_closure1$_closure5.doCall(AggregateTradeService.groovy:35)
	at jdk.internal.reflect.GeneratedMethodAccessor2226.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:101)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1041)
	at groovy.lang.Closure.call(Closure.java:405)
	at groovy.lang.Closure.call(Closure.java:421)
	at org.grails.orm.hibernate.GrailsHibernateTemplate.doExecute(GrailsHibernateTemplate.java:297)
	at org.grails.orm.hibernate.GrailsHibernateTemplate.execute(GrailsHibernateTemplate.java:241)
	at org.grails.orm.hibernate.GrailsHibernateTemplate.executeWithNewSession(GrailsHibernateTemplate.java:153)
	at org.grails.orm.hibernate.AbstractHibernateDatastore.withNewSession(AbstractHibernateDatastore.java:360)
	at org.grails.orm.hibernate.AbstractHibernateGormStaticApi.withNewSession(AbstractHibernateGormStaticApi.groovy:82)
	at org.grails.datastore.gorm.GormEntity$Trait$Helper.withNewSession(GormEntity.groovy:1027)
	at org.grails.datastore.gorm.GormEntity$Trait$Helper$withNewSession$31.call(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.grails.datastore.gorm.GormEntity$Trait$Helper$withNewSession$31.call(Unknown Source)
	at com.nthgen.iaas.domain.AggregateTrade.withNewSession(AggregateTrade.groovy)
	at com.nthgen.iaas.domain.AggregateTrade$withNewSession$0.call(Unknown Source)
	at com.nthgen.iaas.service.entityListenerServices.AggregateTradeService$_updateTradeInformation_closure1.doCall(AggregateTradeService.groovy:24)
	at com.nthgen.iaas.service.entityListenerServices.AggregateTradeService$_updateTradeInformation_closure1.doCall(AggregateTradeService.groovy)
	at jdk.internal.reflect.GeneratedMethodAccessor2225.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:101)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1041)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:37)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:119)
	at com.nthgen.iaas.service.entityListenerServices.AggregateTradeService.executeOrSendMessage(AggregateTradeService.groovy:216)
	at jdk.internal.reflect.GeneratedMethodAccessor1776.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:190)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:58)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:184)
	at com.nthgen.iaas.service.entityListenerServices.AggregateTradeService.updateTradeInformation(AggregateTradeService.groovy:23)
	at com.nthgen.iaas.service.entityListenerServices.AggregateTradeService$updateTradeInformation.call(Unknown Source)
	at com.nthgen.iaas.service.AggregateTradeListenerService.updateTrade(AggregateTradeListenerService.groovy:63)
	at jdk.internal.reflect.GeneratedMethodAccessor2335.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:190)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:58)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:176)
	at com.nthgen.iaas.service.AggregateTradeListenerService.$tt__onMessage(AggregateTradeListenerService.groovy:39)
	at jdk.internal.reflect.GeneratedMethodAccessor2199.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:101)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1217)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1041)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:1011)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:994)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:97)
	at com.nthgen.iaas.service.AggregateTradeListenerService$_onMessage_closure1.doCall(AggregateTradeListenerService.groovy)
	at jdk.internal.reflect.GeneratedMethodAccessor2198.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:101)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1041)
	at groovy.lang.Closure.call(Closure.java:405)
	at groovy.lang.Closure.call(Closure.java:421)
	at grails.gorm.transactions.GrailsTransactionTemplate$2.doInTransaction(GrailsTransactionTemplate.groovy:94)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at grails.gorm.transactions.GrailsTransactionTemplate.execute(GrailsTransactionTemplate.groovy:91)
	at com.nthgen.iaas.service.AggregateTradeListenerService.onMessage(AggregateTradeListenerService.groovy)
	at jdk.internal.reflect.GeneratedMethodAccessor2196.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:550)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:505)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:439)
	at org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer.executeMessage(SimpleMessageListenerContainer.java:227)
	at org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer$MessageExecutor.run(SimpleMessageListenerContainer.java:417)
	at org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer$SignalExecutingRunnable.run(SimpleMessageListenerContainer.java:309)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.nthgen.iaas.domain.AggregateTrade#9]
	at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2540)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3375)
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3249)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3650)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:146)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1472)
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)
	at org.grails.orm.hibernate.AbstractHibernateGormInstanceApi.flushSession(AbstractHibernateGormInstanceApi.groovy:285)
	at jdk.internal.reflect.GeneratedMethodAccessor402.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:101)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1217)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1041)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:1011)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:994)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:97)
	at org.grails.orm.hibernate.AbstractHibernateGormInstanceApi$_performSave_closure3.doCall(AbstractHibernateGormInstanceApi.groovy:250)
	at jdk.internal.reflect.GeneratedMethodAccessor401.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:101)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:263)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1041)
	at groovy.lang.Closure.call(Closure.java:405)
	at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:50)
	at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:122)
	at com.sun.proxy.$Proxy172.doInHibernate(Unknown Source)
	at org.grails.orm.hibernate.GrailsHibernateTemplate.doExecute(GrailsHibernateTemplate.java:297)
	... 98 common frames omitted

2020-08-29 03:49:22.235 ERROR 117 --- [txId=9fbda720-e9aa-11ea-a638-592fdc34962a] [          http-nio-9080-exec-7] c.n.i.service.UpcomingProxyBidService    : No upcoming proxy bids exists on the upcoming trade being launched.
2020-08-29 03:49:22.314 ERROR 117 --- [txId=9fbda720-e9aa-11ea-a638-592fdc34962a] [          http-nio-9080-exec-7] c.n.i.service.UpcomingProxyBidService    : No upcoming proxy bids exists on the upcoming trade being launched.
2020-08-29 03:49:23.487 ERROR 117 --- [txId=] [pleMessageListenerContainer-31] com.nthgen.iaas.service.CarProofService  : Carproof order failed...trade:23, Their API's response: 'Error in OrderReport for VIN:MAJ6P1ULXJC228836', with the request URL: https://webservice.carproof.com/OrderReport/service.asmx?WSDL
2020-08-29 03:49:24.767 ERROR 117 --- [txId=] [pleMessageListenerContainer-31] com.nthgen.iaas.service.CarProofService  : Carproof order failed...trade:23, Their API's response: 'Error in OrderReport for VIN:MAJ6P1ULXJC228836', with the request URL: https://webservice.carproof.com/OrderReport/service.asmx?WSDL
2020-08-29 03:49:26.103 ERROR 117 --- [txId=] [pleMessageListenerContainer-31] com.nthgen.iaas.service.CarProofService  : Carproof order failed...trade:15, Their API's response: 'Error in OrderReport for VIN:W04GM6SX9J1107392', with the request URL: https://webservice.carproof.com/OrderReport/service.asmx?WSDL
2020-08-29 03:49:27.386 ERROR 117 --- [txId=] [pleMessageListenerContainer-31] com.nthgen.iaas.service.CarProofService  : Carproof order failed...trade:15, Their API's response: 'Error in OrderReport for VIN:W04GM6SX9J1107392', with the request URL: https://webservice.carproof.com/OrderReport/service.asmx?WSDL

